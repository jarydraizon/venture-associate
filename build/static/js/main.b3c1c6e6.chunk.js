(this["webpackJsonpventure-associate"]=this["webpackJsonpventure-associate"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},16:function(e,t,a){e.exports=a(26)},26:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(15),r=a(3),c=a(6);const o=Object(n.createContext)(null),i=e=>{let{children:t}=e;const[a,s]=Object(n.useState)(()=>{const e=localStorage.getItem("token")?{email:localStorage.getItem("userEmail")}:null;return console.log("Initial user state:",e),e}),[r,c]=Object(n.useState)(null);return l.a.createElement(o.Provider,{value:{user:a,error:r,login:async e=>{try{const a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await a.json();if(!a.ok)throw new Error(n.error||"Login failed");if(!n.token)throw new Error("Invalid login response");{var t;const a={email:e.email,user_id:n.user_id||(null===(t=n.user)||void 0===t?void 0:t.user_id)};localStorage.setItem("token",n.token),localStorage.setItem("userEmail",e.email),s(a)}return n}catch(a){throw c(a.message),new Error(a.message)}},signup:async e=>{try{const t=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();if(!t.ok)throw new Error(a.error||"Signup failed");return s(a.user),localStorage.setItem("token",a.token),a}catch(t){throw c(t.message),new Error(t.message)}},logout:()=>{localStorage.removeItem("token"),s(null),c(null)}}},t)},m=()=>Object(n.useContext)(o);var u=()=>{const e=Object(r.q)(),{user:t,logout:a}=m(),n=Object(r.o)();return l.a.createElement("nav",{className:"sidebar"},l.a.createElement("div",{className:"sidebar-content"},l.a.createElement("div",{className:"sidebar-top"},l.a.createElement("div",{className:"logo"},"boola"),l.a.createElement("div",{className:"nav-links"},l.a.createElement("button",{className:"nav-link ".concat("/ventures"===n.pathname?"active":""),onClick:()=>e("/ventures")},"Ventures"),l.a.createElement("button",{className:"nav-link ".concat("/insights"===n.pathname?"active":""),onClick:()=>e("/insights")},"Insights"))),l.a.createElement("div",{className:"sidebar-bottom"},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"user-email"},t.email),l.a.createElement("button",{className:"sign-out-btn",onClick:a},"Sign Out")))))};var d=e=>{let{onSubmit:t,isLogin:a}=e;const[s,r]=Object(n.useState)(""),[c,o]=Object(n.useState)(""),[i,m]=Object(n.useState)("");return l.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),m("");try{await t({email:s,password:c})}catch(a){m(a.message)}},className:"auth-form"},l.a.createElement("input",{type:"email",value:s,onChange:e=>r(e.target.value),placeholder:"Email",required:!0}),l.a.createElement("input",{type:"password",value:c,onChange:e=>o(e.target.value),placeholder:"Password",required:!0}),i&&l.a.createElement("div",{className:"error-message"},i),l.a.createElement("button",{type:"submit"},a?"Sign In":"Sign Up"))},E=a(28);var v=()=>{const e=Object(r.q)(),[t,a]=Object(n.useState)([]),[s,c]=Object(n.useState)("");return Object(n.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void c("No authentication token found");const t={Authorization:"Bearer ".concat(e)},n=await E.a.get("/api/ventures",{headers:t});a(n.data.ventures||[])}catch(s){var e,t;console.error("Error fetching data:",s.response||s),c((null===(e=s.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch data")}})()},[]),l.a.createElement("div",{className:"venture-list"},s&&l.a.createElement("p",{className:"error"},s),t.map(t=>l.a.createElement("div",{key:t.venture_id,className:"venture-card",onClick:()=>e("/ventures/".concat(t.name))},l.a.createElement("h3",null,t.name),l.a.createElement("p",null,t.description),l.a.createElement("div",{className:"meta"},new Date(t.created_at).toLocaleDateString()," \xb7 ",t.active?"Active":"Inactive"))))};a(13);var h=()=>l.a.createElement("div",{className:"ventures-page"},l.a.createElement("h1",{className:"welcome-title"},"Welcome to your portfolio"),l.a.createElement("hr",{className:"separator"}),l.a.createElement("div",{className:"ventures-section"},l.a.createElement("h2",{className:"section-title"},"My ventures"),l.a.createElement("button",{className:"create-new"},"+ Create new"),l.a.createElement(v,null)));var p=function(){return l.a.createElement("div",{className:"main-content"},l.a.createElement("h1",null,"Insights"),l.a.createElement("p",null,"Coming soon..."))};var g=()=>{const e=Object(r.q)();return l.a.createElement("div",{className:"home-page"},l.a.createElement("div",{className:"hero-section"},l.a.createElement("h1",null,"Your AI Venture Associate"),l.a.createElement("h2",null,"Make better investment decisions with AI-powered insights"),l.a.createElement("button",{className:"cta-button",onClick:()=>e("/login")},"Get Started")))};a(14);var b=()=>{const{ventureName:e}=Object(r.s)(),[t,a]=Object(n.useState)([]),[s,c]=Object(n.useState)([{text:"Hello! I'm your AI assistant. How can I help you today?",sender:"assistant"}]),[o,i]=Object(n.useState)(""),m=[{id:1,label:"Generate Value Proposition"},{id:2,label:"Size the Market"},{id:3,label:"Analyze Competition"},{id:4,label:"Create SWOT Analysis"},{id:5,label:"Generate Business Model Canvas"},{id:6,label:"Assess Market Fit"},{id:7,label:"Analyze Landing Page",onClick:async()=>{c(e=>[...e,{text:"Please provide the URL you'd like me to analyze.",sender:"assistant"}])}},{id:8,label:"Risk Assessment"}];return l.a.createElement("div",{className:"venture-page"},l.a.createElement("div",{className:"venture-header"},l.a.createElement("h1",null,e)),l.a.createElement("div",{className:"panels-container"},l.a.createElement("div",{className:"sources-panel"},l.a.createElement("div",{className:"panel-header"},l.a.createElement("h2",null,"Sources")),l.a.createElement("button",{className:"add-button"},"+ Add source"),l.a.createElement("div",{className:"sources-list"},0===t.length?l.a.createElement("div",{className:"empty-state"},l.a.createElement("div",null,"No sources yet"),l.a.createElement("div",null,"Add sources to get started")):t.map((e,t)=>l.a.createElement("div",{key:t,className:"source-item"},e.title)))),l.a.createElement("div",{className:"chat-panel"},l.a.createElement("div",{className:"panel-header"},l.a.createElement("h2",null,"Chat")),l.a.createElement("div",{className:"chat-messages"},0===s.length?l.a.createElement("div",{className:"empty-state"},l.a.createElement("div",null,"No messages yet"),l.a.createElement("div",null,"Start a conversation")):s.map((e,t)=>l.a.createElement("div",{key:t,className:"message ".concat(e.sender)},e.text))),l.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),!o.trim())return;const t={text:o,sender:"user"};c(e=>[...e,t]),i(""),c(e=>[...e,{text:"Thinking...",sender:"assistant",isLoading:!0}]);try{var a;if((o.startsWith("http://")||o.startsWith("https://"))&&(null===(a=s[s.length-2])||void 0===a?void 0:a.text.includes("provide the URL"))){const e=await fetch("/api/analyzeLandingPage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:o})});if(!e.ok)throw new Error("Failed to analyze landing page");const t=await e.json();c(e=>[...e.filter(e=>!e.isLoading),{text:t.analysis,sender:"assistant"}])}else{const e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:o})});if(!e.ok)throw new Error("Failed to get response");const t=await e.json();c(e=>[...e.filter(e=>!e.isLoading),{text:t.response,sender:"assistant"}])}}catch(n){console.error("Chat error:",n),c(e=>[...e.filter(e=>!e.isLoading),{text:"I apologize, but I'm having trouble responding right now. Please try again.",sender:"assistant"}])}},className:"chat-input-form"},l.a.createElement("input",{type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"Ask anything...",className:"chat-input"}),l.a.createElement("button",{type:"submit",className:"send-button"},"Send"))),l.a.createElement("div",{className:"actions-panel"},l.a.createElement("div",{className:"panel-header"},l.a.createElement("h2",null,"Actions")),l.a.createElement("div",{className:"actions-list"}," ",m.map(e=>l.a.createElement("button",{key:e.id,className:"action-button",onClick:e.onClick||(()=>console.log("Action clicked: ".concat(e.label)))},e.label))))))};function N(e){let{children:t}=e;const{user:a}=m();return a?t:l.a.createElement(r.a,{to:"/"})}function y(){const{user:e,login:t,signup:a}=m(),[n,s]=l.a.useState(!0);return l.a.createElement("div",{className:"app-container"},e&&l.a.createElement(u,null),l.a.createElement("div",{className:"main-content"},l.a.createElement(r.d,null,l.a.createElement(r.b,{path:"/ventures",element:l.a.createElement(N,null,l.a.createElement(h,null))}),l.a.createElement(r.b,{path:"/ventures/:ventureName",element:l.a.createElement(N,null,l.a.createElement(b,null))}),l.a.createElement(r.b,{path:"/insights",element:l.a.createElement(N,null,l.a.createElement(p,null))}),l.a.createElement(r.b,{path:"/",element:e?l.a.createElement(r.a,{to:"/ventures"}):l.a.createElement(g,null)}),l.a.createElement(r.b,{path:"/login",element:e?l.a.createElement(r.a,{to:"/ventures"}):l.a.createElement("div",{className:"auth-container"},l.a.createElement("h1",null,n?"Sign In":"Sign Up"),l.a.createElement(d,{onSubmit:n?t:a,isLogin:n}),l.a.createElement("button",{className:"switch-auth",onClick:()=>s(!n)},n?"Need an account? Sign up":"Have an account? Sign in"))}))))}var S=function(){return l.a.createElement(i,null,l.a.createElement(c.a,null,l.a.createElement(y,null)))};const f=document.getElementById("root");Object(s.createRoot)(f).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)))}},[[16,1,2]]]);
//# sourceMappingURL=main.b3c1c6e6.chunk.js.map