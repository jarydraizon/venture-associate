(this["webpackJsonpventure-associate"]=this["webpackJsonpventure-associate"]||[]).push([[0],{13:function(e,t,a){},15:function(e,t){},16:function(e,t,a){e.exports=a(27)},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),c=a(3),s=a(6);const o=Object(n.createContext)(null),i=e=>{let{children:t}=e;const[a,l]=Object(n.useState)(()=>{const e=localStorage.getItem("token")?{email:localStorage.getItem("userEmail")}:null;return console.log("Initial user state:",e),e}),[c,s]=Object(n.useState)(null);return r.a.createElement(o.Provider,{value:{user:a,error:c,login:async e=>{try{const a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await a.json();if(!a.ok)throw new Error(n.error||"Login failed");if(!n.token)throw new Error("Invalid login response");{var t;const a={email:e.email,user_id:n.user_id||(null===(t=n.user)||void 0===t?void 0:t.user_id)};localStorage.setItem("token",n.token),localStorage.setItem("userEmail",e.email),l(a)}return n}catch(a){throw s(a.message),new Error(a.message)}},signup:async e=>{try{const t=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();if(!t.ok)throw new Error(a.error||"Signup failed");return l(a.user),localStorage.setItem("token",a.token),a}catch(t){throw s(t.message),new Error(t.message)}},logout:()=>{localStorage.removeItem("token"),l(null),s(null)}}},t)},m=()=>Object(n.useContext)(o);var u=()=>{const e=Object(c.q)(),{user:t,logout:a}=m(),n=Object(c.o)();return r.a.createElement("nav",{className:"sidebar"},r.a.createElement("div",{className:"sidebar-content"},r.a.createElement("div",{className:"sidebar-top"},r.a.createElement("div",{className:"logo"},"boola"),r.a.createElement("div",{className:"nav-links"},r.a.createElement("button",{className:"nav-link ".concat("/ventures"===n.pathname?"active":""),onClick:()=>e("/ventures")},"Ventures"),r.a.createElement("button",{className:"nav-link ".concat("/insights"===n.pathname?"active":""),onClick:()=>e("/insights")},"Insights"))),r.a.createElement("div",{className:"sidebar-bottom"},t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"user-email"},t.email),r.a.createElement("button",{className:"sign-out-btn",onClick:a},"Sign Out")))))};var E=e=>{let{onSubmit:t,isLogin:a}=e;const[l,c]=Object(n.useState)(""),[s,o]=Object(n.useState)(""),[i,m]=Object(n.useState)("");return r.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),m("");try{await t({email:l,password:s})}catch(a){m(a.message)}},className:"auth-form"},r.a.createElement("input",{type:"email",value:l,onChange:e=>c(e.target.value),placeholder:"Email",required:!0}),r.a.createElement("input",{type:"password",value:s,onChange:e=>o(e.target.value),placeholder:"Password",required:!0}),i&&r.a.createElement("div",{className:"error-message"},i),r.a.createElement("button",{type:"submit"},a?"Sign In":"Sign Up"))},v=a(29);var d=()=>{const e=Object(c.q)(),[t,a]=Object(n.useState)([]),[l,s]=Object(n.useState)("");return Object(n.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void s("No authentication token found");const t={Authorization:"Bearer ".concat(e)},n=await v.a.get("/api/ventures",{headers:t});a(n.data.ventures||[])}catch(l){var e,t;console.error("Error fetching data:",l.response||l),s((null===(e=l.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.error)||"Failed to fetch data")}})()},[]),r.a.createElement("div",{className:"venture-list"},l&&r.a.createElement("p",{className:"error"},l),t.map(t=>r.a.createElement("div",{key:t.venture_id,className:"venture-card",onClick:()=>e("/ventures/".concat(t.name))},r.a.createElement("h3",null,t.name),r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"meta"},new Date(t.created_at).toLocaleDateString()," \xb7 ",t.active?"Active":"Inactive"))))};a(26);var g=()=>r.a.createElement("div",{className:"ventures-page"},r.a.createElement("h1",{className:"welcome-title"},"Welcome to your portfolio"),r.a.createElement("hr",{className:"separator"}),r.a.createElement("div",{className:"ventures-section"},r.a.createElement("h2",{className:"section-title"},"My ventures"),r.a.createElement("button",{className:"create-new"},"+ Create new"),r.a.createElement(d,null)));var h=function(){return r.a.createElement("div",{className:"main-content"},r.a.createElement("h1",null,"Insights"),r.a.createElement("p",null,"Coming soon..."))};var p=()=>{const e=Object(c.q)();return r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"hero-section"},r.a.createElement("h1",null,"Your AI Venture Associate"),r.a.createElement("h2",null,"Make better investment decisions with AI-powered insights"),r.a.createElement("button",{className:"cta-button",onClick:()=>e("/login")},"Get Started")))},b=(a(13),a(15)),N=a.n(b);function S(e){let{children:t}=e;const{user:a}=m();return a?t:r.a.createElement(c.a,{to:"/"})}function f(){const{user:e,login:t,signup:a}=m(),[n,l]=r.a.useState(!0);return r.a.createElement("div",{className:"app-container"},e&&r.a.createElement(u,null),r.a.createElement("div",{className:"main-content"},r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/ventures",element:r.a.createElement(S,null,r.a.createElement(g,null))}),r.a.createElement(c.b,{path:"/ventures/:ventureName",element:r.a.createElement(S,null,r.a.createElement(N.a,null))}),r.a.createElement(c.b,{path:"/insights",element:r.a.createElement(S,null,r.a.createElement(h,null))}),r.a.createElement(c.b,{path:"/",element:e?r.a.createElement(c.a,{to:"/ventures"}):r.a.createElement(p,null)}),r.a.createElement(c.b,{path:"/login",element:e?r.a.createElement(c.a,{to:"/ventures"}):r.a.createElement("div",{className:"auth-container"},r.a.createElement("h1",null,n?"Sign In":"Sign Up"),r.a.createElement(E,{onSubmit:n?t:a,isLogin:n}),r.a.createElement("button",{className:"switch-auth",onClick:()=>l(!n)},n?"Need an account? Sign up":"Have an account? Sign in"))}))))}var w=function(){return r.a.createElement(i,null,r.a.createElement(s.a,null,r.a.createElement(f,null)))};const k=document.getElementById("root");Object(l.createRoot)(k).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)))}},[[16,1,2]]]);
//# sourceMappingURL=main.b1cf3731.chunk.js.map