{"version":3,"sources":["context/AuthContext.js","components/Navbar.js","components/AuthForm.js","components/VentureForm.js","App.js","index.js"],"names":["AuthContext","createContext","AuthProvider","_ref","children","user","setUser","useState","initialUser","localStorage","getItem","email","console","log","error","setError","React","createElement","Provider","value","login","async","response","fetch","method","headers","body","JSON","stringify","credentials","data","json","ok","Error","token","_data$user","userObj","id","userId","setItem","err","message","signup","logout","removeItem","useAuth","useContext","Navbar","className","Fragment","onClick","AuthForm","onSubmit","isLogin","setEmail","password","setPassword","e","preventDefault","type","onChange","target","placeholder","required","VentureForm","name","setName","description","setDescription","setMessage","event","axios","post","concat","ventureId","MainContent","setIsLogin","handleSubmit","alert","App","container","document","getElementById","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.7281ce31.chunk.js","sourcesContent":["\nimport React, { createContext, useState, useContext } from 'react';\n\nconst AuthContext = createContext(null);\n\nexport const AuthProvider = ({ children }) => {\n  // Initialize user state from localStorage if token exists\n  const [user, setUser] = useState(() => {\n    const token = localStorage.getItem('token');\n    const initialUser = token ? { email: localStorage.getItem('userEmail') } : null;\n    console.log('Initial user state:', initialUser);\n    return initialUser;\n  });\n  const [error, setError] = useState(null);\n\n  // Login handler - authenticates user and stores token\n  const login = async (credentials) => {\n    try {\n      // Make API request to login endpoint\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n      });\n\n      const data = await response.json();\n      \n      // Handle unsuccessful login\n      if (!response.ok) {\n        throw new Error(data.error || 'Login failed');\n      }\n\n      // Only set user state if we received a valid token\n      if (data.token) {\n        const userObj = {\n          email: credentials.email,\n          id: data.userId || data.user?.id\n        };\n        \n        // Store auth data in localStorage and state\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('userEmail', credentials.email);\n        setUser(userObj);\n      } else {\n        throw new Error('Invalid login response');\n      }\n      return data;\n    } catch (err) {\n      setError(err.message);\n      throw new Error(err.message);\n    }\n  };\n\n  // Signup handler - creates new user and logs them in\n  const signup = async (credentials) => {\n    try {\n      const response = await fetch('/api/auth/signup', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n      });\n\n      const data = await response.json();\n      \n      if (!response.ok) {\n        throw new Error(data.error || 'Signup failed');\n      }\n\n      // Store user data and token after successful signup\n      setUser(data.user);\n      localStorage.setItem('token', data.token);\n      return data;\n    } catch (err) {\n      setError(err.message);\n      throw new Error(err.message);\n    }\n  };\n\n  // Logout handler - clears auth state\n  const logout = () => {\n    localStorage.removeItem('token');\n    setUser(null);\n    setError(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, error, login, signup, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => useContext(AuthContext);\n","\nimport React from 'react';\nimport { useAuth } from '../context/AuthContext';\n\nfunction Navbar() {\n  const { user, logout } = useAuth();\n\n  return (\n    <nav>\n      <div className=\"container\">\n        <div className=\"logo\">Voogle</div>\n        <div>\n          {user ? (\n            <>\n              <span className=\"user-email\">{user.email}</span>\n              <button onClick={logout}>Sign Out</button>\n            </>\n          ) : null}\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;\n","\nimport React, { useState } from 'react';\n\nconst AuthForm = ({ onSubmit, isLogin }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const [error, setError] = useState('');\n  \n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    try {\n      await onSubmit({ email, password });\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <input\n        type=\"email\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        placeholder=\"Email\"\n        required\n      />\n      <input\n        type=\"password\"\n        value={password}\n        onChange={(e) => setPassword(e.target.value)}\n        placeholder=\"Password\"\n        required\n      />\n      {error && <div className=\"error-message\">{error}</div>}\n      <button type=\"submit\">\n        {isLogin ? 'Sign In' : 'Sign Up'}\n      </button>\n    </form>\n  );\n};\n\nexport default AuthForm;\n","import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst VentureForm = () => {\n    console.log('VentureForm rendered');\n    const [name, setName] = useState('');\n    const [description, setDescription] = useState('');\n    const [message, setMessage] = useState('');\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        const token = localStorage.getItem('token');\n\n        try {\n            const response = await axios.post('http://0.0.0.0:3001/api/ventures', \n                { name, description },\n                { headers: { 'Authorization': `Bearer ${token}` }}\n            );\n            setMessage(`Venture created successfully! (ID: ${response.data.ventureId})`);\n            setName('');\n            setDescription('');\n        } catch (error) {\n            setMessage(`Error: ${error.response.data.error}`);\n        }\n    };\n\n    return (\n        <div>\n            <h2>Add a Venture</h2>\n            <form onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Venture Name\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    required\n                />\n                <textarea\n                    placeholder=\"Description\"\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                    required\n                />\n                <button type=\"submit\">Submit</button>\n            </form>\n            {message && <p>{message}</p>}\n        </div>\n    );\n};\n\nexport default VentureForm;","\nimport React, { useState } from 'react';\nimport Navbar from './components/Navbar';\nimport AuthForm from './components/AuthForm';\nimport VentureForm from './components/VentureForm';\nimport { AuthProvider, useAuth } from './context/AuthContext';\n\nfunction MainContent() {\n  const { user, login, signup } = useAuth();\n  const [isLogin, setIsLogin] = useState(true);\n  \n  console.log('MainContent rendered, user state:', user);\n  console.log('Local Storage token:', localStorage.getItem('token'));\n\n  const handleSubmit = async (credentials) => {\n    try {\n      if (isLogin) {\n        const response = await login(credentials);\n        console.log('Login success:', response);\n      } else {\n        await signup(credentials);\n      }\n    } catch (error) {\n      console.error('Auth error:', error);\n      alert(error.message);\n    }\n  };\n\n  if (!user) {\n    return (\n      <main className=\"container\">\n        <div className=\"auth-container\">\n          <h1>{isLogin ? 'Sign In' : 'Sign Up'}</h1>\n          <AuthForm onSubmit={handleSubmit} isLogin={isLogin} />\n          <button \n            className=\"switch-auth\" \n            onClick={() => setIsLogin(!isLogin)}\n          >\n            {isLogin ? 'Need an account? Sign up' : 'Have an account? Sign in'}\n          </button>\n        </div>\n      </main>\n    );\n  }\n\n  // This is the authenticated view\n  return (\n    <main className=\"container\">\n      <div className=\"main-content\">\n        <h1>Welcome to Voogle</h1>\n        <p>Your AI-powered venture analysis assistant</p>\n        {/* <div style={{border: '2px solid red', padding: '10px', margin: '10px'}}> */}\n          {/* <p>TEST TEXT - This should be visible</p> */}\n        {/* </div> */}\n        <VentureForm />\n      </div>\n    </main>\n  );\n}\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <div>\n        <Navbar />\n        <MainContent />\n      </div>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","\nimport React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\nimport './styles/main.css';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}